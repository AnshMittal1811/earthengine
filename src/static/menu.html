<html>

<link type="text/css" rel="stylesheet" href="/static/css/mystyle.css" />
<style> form {background:lightblue; width:70%}   
        table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
</style>

<a name="h0"><h2>Change Detection with Earth Engine Imagery</h2>

<a href="/" name="return"><b>Return to the main menu</b></a>

<div style = "width:70%">

<p><b>Note: Because of the deferred execution model used by the GEE, the generated map overlays
often build up very slowly. This is especially true for the Algorithm/Omnibus
calculation since with each chosen zoom level results are re-calculated at a
new scale. Furthermore, zoom levels leading to scales higher than the nominal value of 10m 
effectively increase the equivalent number of looks (ENL), thus falsifying the displayed change maps. 
The exported change maps are calculated at 10m scale and the correct ENL of 4.9.</b>

<h3><a name="h1">Retrieve/Sentinel1</a></h3>
<p>
Retrieve a  time series of Sentinel-1 image spatial subsets:
Select a start and end date, "ASCENDING" or "DESCENDING" pass, relative orbit number (default any), 
and polarization ("VV,VH", "VV",  "VH", "HH,HV", "HH" or "HV").  If desired, and if
you are authenticated, select "Export to Google Drive" with a filename and scale. Use the
map rectangle tool to set a region of interest. Then click GO to start. When the result page appears
you can download the time series directly, but this may be unreliable. The Export to Drive is recommended. 
<br />
<a href="#h0"> top</a>
</p>

<h3><a name="h2">Retrieve/Visual-Infrared</a></h3>
<p>
Retrieve a spatial subset of a single visual/infrared image:
Choose the desired collection ID. Available collection ID's are:
<p>
<table>
<tr><td>Platform</td><td>Bands</td><td>Spectrum</td><td>Pixel</td><td>Collection ID</td><td>Info</td></tr>
<tr><td>Landsat 4 TM</td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LT4_L1T</td><td>DN values, scaled, calibrated at-sensor radiance, orthorectified</td></tr>
<tr><td>Landsat 4 TM</td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LT4_L1T_TOA</td><td>Calibrated top-of-atmosphere reflectance, orthorectified.</td></tr>
<tr><td>Landsat 5 TM</td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LT05/C01/T1</td><td>DN values, scaled, calibrated at-sensor radiance, orthorectified</td></tr>
<tr><td>Landsat 5 TM</td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LT05/C01/T1_TOA</td><td>Calibrated top-of-atmosphere reflectance, orthorectified </td></tr>
<tr><td>Landsat 7 ETM</td><td>6</td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LE07/C01/T1_RT</td><td>Tier 1 and Real-Time data DN values, scaled, calibrated at-sensor radiance</td</tr>
<tr><td>Landsat 7 ETM</td><td>6</td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LE07/C01/T1_RT_TOA</td><td>Tier 1 and Real-Time data calibrated top-of-atmosphere reflectance</td</tr>
<tr><td>Landsat 8  </td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LC08/C01/T1_RT</td><td> Tier 1 and Real-Time data DN values, scaled, calibrated at-sensor radiance</td</tr>
<tr><td>Landsat 8  </td><td>6 </td><td>VNIR/SWIR</td><td>30m</td><td>LANDSAT/LC08/C01/T1_RT_TOA</td><td> Tier 1 and Real-Time data calibrated top-of-atmosphere reflectance</td</tr>
<tr><td>Sentinel 2  </td><td>4</td><td> VNIR/SWIR</td><td>10m</td><td>COPERNICUS/S2</td><td>TOA reflectance scaled by 10000</td></tr>
<tr><td>Sentinel 2  </td><td>6 </td><td>NIR/SWIR</td><td>20m</td><td>COPERNICUS/S2</td><td>TOA reflectance scaled by 10000</td></tr>
<tr><td>ASTER       </td><td>3 </td><td>VNIR</td><td>15m</td><td>ASTER/AST_L1T_003</td><td>calibrated at-sensor radiance</td></tr>
</table>
</p>
Alternatively, you can "roll your own", i.e., choose your own GEE collection ID or a collection from your own assets. In that case you must
also enter the relevant band names and maximum display value.
Choose a start and end date for the search. The most cloud-free image in the period will be selected.  
If desired, and if you are authenticated, select "Export to Google Drive" with a filename and scale. Use the
map rectangle tool to set a region of interest. Then click GO to start. When the result page appears
you can download the image intersection directly, but this may be unreliable. The Export to Drive is recommended.
<br />
<a href="#h0"> top</a>
</p>

<h3><a name="h3">Algorithm/Omnibus</a></h3>
<p>
Run the sequential omnibus change detection algorithm on a  time series of Sentinel-1 images:
Select a start and end date, "ASCENDING" or "DESCENDING" pass, relative orbit number (default any), 
polarization ("VV,VH", "VV",  "VH", "HH,HV", "HH" or "HV") and significance level.  If desired, and if
you are authenticated, select "Export to Assets" or "Export to Google Drive" (or both) with a filename and scale. 
To run a 3x3 median filter over the P-values, check the median filter box. Choosing "Export to Assets" will also
trigger an export of metadata for the calculation to Google Drive. Use the
map rectangle tool to set a region of interest. Click GO to start. If the foreground calculation ends with an error
indicating ressources were exceeded, it will usually run to completion in the batch export.
If there is no error, the result page shows the change frequency map, a time of first change map or a time of last last change map, depending on selection,
as an overlay. You can download the change maps directly, but this may be unreliable. The Export to Assets/Drive is recommended.
<br />
<a href="#h0"> top</a>
</p>

<h3><a name="h4">Algorithm/iMAD</a></h3>
<p>
Run the IR-MAD algorithm on two images from the same GEE archive collection ID. Available collection ID's are as shown above for <b>Visual-Infrared</b>.
Choose the time ranges
for the images (the image with least cloud cover will be selected for each range). Select the maximum number of iterations and
use the map rectangle tool to set a region of interest. If desired, and if
you are authenticated, select "Export to Assets" or "Export to Google Drive" (or both) with a filename and scale. 
Choosing "Export to Assets" will also
trigger an export of metadata for the calculation to Google Drive and an automatic radiometric normalization of the second
image to the first will be attampted as a side effect. 
Click GO to start. If the foreground calculation ends with an error
indicating ressources were exceeded, it will usually run to completion in the batch export. If there is no error, 
the result page shows the resulting chi-square
image as an overlay. You can download the MAD change image directly, but this may be unreliable. The Export to Assets/Drive is recommended.
<br />
<a href="#h0"> top</a>
</p>

<h3><a name="h5">Algorithm/Radcal</a></h3>
<p>
Radiometrically normalize a sequence of full scenes from the same collectionID. Available collection IDs are as shown above for <b>Visual-Infrared</b>.
Choose the time range for the image sequence, the beginning
and ending months of the year and the maximum cloud cover in percent. Select the maximum number of iterations for IR-MAD and
use the map rectangle tool to set the region to be used to extract the radiometric normalization coefficients. 
Select the image number (in order of increasing cloud cover) to be used as reference. (Leaving "Export to Assets" unchecked will
show the list of images found in order of increasing cloud cover without actually triggering the calculations.)
If you are authenticated, select "Export to Assets" with a directory name where the normalized scenes will be stored, and the export scale. 
Click GO to start. Metadata for the calculation will be exported to Google Drive, showing the statistics for each of the normalizations. 
<br />
<a href="#h0"> top</a>
</p>

<h3><a name="h6">Algorithm/PCA</a></h3>
<p>
Peform principal components analysis on the most cloud-free full scene in a sequence of visual/infrared images. 
Available collection IDs are as shown above for <b>Visual-Infrared</b>. Choose the time range for the image sequence
Use the map rectangle tool to set a region of interest. Only full scenes which overlap completely will be considered. 
If you are authenticated, select "Export to Google Drive" with a file name where the pca image will be stored, and the export scale. 
Click GO to start.
<br />
<a href="#h0"> top</a>
</p>

</div>

</html>

